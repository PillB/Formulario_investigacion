%% Diagramas de arquitectura y flujos de artefactos
%% Actualizado autom√°ticamente el 2026-01-27 21:29:00
%%{init: { 'fontFamily': 'Noto Sans, DejaVu Sans, Segoe UI, Arial, sans-serif', 'themeVariables': { 'fontFamily': 'Noto Sans, DejaVu Sans, Segoe UI, Arial, sans-serif' } } }%%

erDiagram
  CASOS {
    string id_caso
    string tipo_informe
    string categoria1
    string categoria2
    string modalidad
    string canal
    string proceso
    string fecha_de_ocurrencia
    string fecha_de_descubrimiento
    string centro_costos
    string matricula_investigador
    string investigador_nombre
    string investigador_cargo
  }
  LLAVE_TECNICA {
    string id_caso
    string tipo_informe
    string categoria1
    string categoria2
    string modalidad
    string canal
    string proceso
    string fecha_de_ocurrencia
    string fecha_de_descubrimiento
    string centro_costos
    string matricula_investigador
    string investigador_nombre
    string investigador_cargo
    string id_producto
    string id_cliente
    string id_colaborador
    string id_cliente_involucrado
    string tipo_involucrado
    string id_reclamo
    string fecha_ocurrencia
  }
  EVENTOS {
    string case_id
    string tipo_informe
    string categoria_1
    string categoria_2
    string modalidad
    string tipo_de_producto
    string canal
    string proceso_impactado
    string product_id
    string cod_operation
    string monto_investigado
    string tipo_moneda
    string tipo_id_cliente_involucrado
    string client_id_involucrado
    string flag_cliente_involucrado
    string nombres_cliente_involucrado
    string apellidos_cliente_involucrado
    string matricula_colaborador_involucrado
    string apellido_paterno_involucrado
    string apellido_materno_involucrado
    string nombres_involucrado
    string division
    string area
    string servicio
    string nombre_agencia
    string codigo_agencia
    string puesto
    string fecha_cese
    string tipo_de_falta
    string tipo_sancion
    string fecha_ocurrencia_caso
    string fecha_descubrimiento_caso
    string monto_fraude_interno_soles
    string monto_fraude_interno_dolares
    string monto_fraude_externo_soles
    string monto_fraude_externo_dolares
    string monto_falla_en_proceso_soles
    string monto_falla_en_proceso_dolares
    string monto_contingencia_soles
    string monto_contingencia_dolares
    string monto_recuperado_soles
    string monto_recuperado_dolares
    string monto_pagado_soles
    string monto_pagado_dolares
    string comentario_breve
    string comentario_amplio
    string id_reclamo
    string nombre_analitica
    string codigo_analitica
    string telefonos_cliente_relacionado
    string correos_cliente_relacionado
    string direcciones_cliente_relacionado
    string accionado_cliente_relacionado
    string centro_costos
    string matricula_investigador
    string investigador_nombre
    string investigador_cargo
    string id_cliente
    string tipo_involucrado
    string fecha_ocurrencia
    string fecha_descubrimiento
    string monto_perdida_fraude
    string monto_falla_procesos
    string monto_contingencia
    string monto_recuperado
    string monto_pago_deuda
    string cliente_nombres
    string cliente_apellidos
    string cliente_tipo_id
    string cliente_flag
    string cliente_telefonos
    string cliente_correos
    string cliente_direcciones
    string cliente_accionado
    string colaborador_flag
    string colaborador_nombres
    string colaborador_apellidos
    string colaborador_division
    string colaborador_area
    string colaborador_servicio
    string colaborador_puesto
    string colaborador_fecha_carta_inmediatez
    string colaborador_fecha_carta_renuncia
    string colaborador_nombre_agencia
    string colaborador_codigo_agencia
    string colaborador_tipo_falta
    string colaborador_tipo_sancion
    string monto_asignado
  }
  CLIENTES {
    string id_cliente
    string id_caso
    string nombres
    string apellidos
    string tipo_id
    string flag
    string telefonos
    string correos
    string direcciones
    string accionado
  }
  COLABORADORES {
    string id_colaborador
    string id_caso
    string flag
    string nombres
    string apellidos
    string division
    string area
    string servicio
    string puesto
    string fecha_carta_inmediatez
    string fecha_carta_renuncia
    string nombre_agencia
    string codigo_agencia
    string tipo_falta
    string tipo_sancion
  }
  PRODUCTOS {
    string id_producto
    string id_caso
    string id_cliente
    string categoria1
    string categoria2
    string modalidad
    string canal
    string proceso
    string fecha_ocurrencia
    string fecha_descubrimiento
    string monto_investigado
    string tipo_moneda
    string monto_perdida_fraude
    string monto_falla_procesos
    string monto_contingencia
    string monto_recuperado
    string monto_pago_deuda
    string tipo_producto
  }
  PRODUCTO_RECLAMO {
    string id_reclamo
    string id_caso
    string id_producto
    string nombre_analitica
    string codigo_analitica
  }
  INVOLUCRAMIENTO {
    string id_producto
    string id_caso
    string id_colaborador
    string monto_asignado
  }
  DETALLES_RIESGO {
    string id_riesgo
    string id_caso
    string lider
    string descripcion
    string criticidad
    string exposicion_residual
    string planes_accion
  }
  DETALLES_NORMA {
    string id_norma
    string id_caso
    string descripcion
    string fecha_vigencia
  }
  ANALISIS {
    string id_caso
    string antecedentes
    string modus_operandi
    string hallazgos
    string descargos
    string conclusiones
    string recomendaciones
    string comentario_breve
    string comentario_amplio
  }
  LOGS {
    string timestamp
    string tipo
    string subtipo
    string widget_id
    string coords
    string mensaje
    string old_value
    string new_value
    string action_result
  }

  CASOS ||--o{ ANALISIS : contiene
  CASOS ||--o{ CLIENTES : contiene
  CASOS ||--o{ COLABORADORES : contiene
  CASOS ||--o{ DETALLES_NORMA : contiene
  CASOS ||--o{ DETALLES_RIESGO : contiene
  CASOS ||--o{ EVENTOS : contiene
  CASOS ||--o{ INVOLUCRAMIENTO : contiene
  CASOS ||--o{ LLAVE_TECNICA : contiene
  CASOS ||--o{ PRODUCTOS : contiene
  CASOS ||--o{ PRODUCTO_RECLAMO : contiene
  CLIENTES ||--o{ EVENTOS : client_id_involucrado
  CLIENTES ||--o{ LLAVE_TECNICA : id_cliente
  CLIENTES ||--o{ PRODUCTOS : id_cliente
  COLABORADORES ||--o{ EVENTOS : matricula_colaborador_involucrado
  COLABORADORES ||--o{ INVOLUCRAMIENTO : id_colaborador
  COLABORADORES ||--o{ LLAVE_TECNICA : id_colaborador
  PRODUCTOS ||--o{ EVENTOS : product_id
  PRODUCTOS ||--o{ INVOLUCRAMIENTO : id_producto
  PRODUCTOS ||--o{ LLAVE_TECNICA : id_producto
  PRODUCTOS ||--o{ PRODUCTO_RECLAMO : id_producto
